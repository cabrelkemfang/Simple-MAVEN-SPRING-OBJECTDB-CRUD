language: java
install:
  - mvn test-compile -DskipTests=true -Dmaven.javadoc.skip=true -B -V
script:
  - mvn test jacoco:report
after_success:
  - mvn coveralls:report
before_deploy:
  - export Project_CRUD=$(ls target/SimpleCrud.war)
deploy:
  provider: releases
  api_key:"985e12fb799a23078267e35b36e7ce7577ce80d7"
  file:${Project_CRUD}
  skip_cleanup: true
  on:
    repo: clydegold8/Simple-MAVEN-SPRING-OBJECTDB-CRUD
    tags: true
